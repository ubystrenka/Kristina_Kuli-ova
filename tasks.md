
## №1. Написание nginx конфигурацию

> Выполнено: Да / Нет  
> Затраченное время: _____

В папке `nginx` находится nginx образ с конфигурацией, описанной в файле `nginx/nginx.conf`.

Нужно написать конфигурацию, которая будет:

- Все запросы `/` проксировать на запущенное web приложение.
- Все запросы `/static` перенаправлять на файлы статики, которые используются web приложением.

Файлы статики web приложения можно получить выполнив команду `make static`. После выполнения команды, рядом с manage.py появится папка `static`.

----

## №2. Написание Dockerfile для python приложения

> Выполнено: Да / Нет  
> Затраченное время: _____

В папке app находится python приложения, которое можно запустить как web приложение. Нужно написать Dockerfile для сборки образа на основе этого приложения.

Команды:

```bash
# Установка зависимостей
make install

# Запуск веб приложения
make run
```

----


## №3. Написание конфигурации стека для docker swarm кластера

> Выполнено: Да / Нет  
> Затраченное время: _____

Файл `docker-stack.yml`. Нужно описать конфигурацию для стека, который можно будет запустить в кластере.

Стек состоит из сервисов:

- Postgresql
- Redis
- Nginx. Папка nginx.
- Web приложение. Папка app. Команда для запуска web приложения: `make run`
- Celery приложение. Папка app. Команда для запуска Celery приложения: `make run-celery`

----

## №4. Запуск docker gitlab runner 

> Выполнено: Да / Нет  
> Затраченное время: _____

Запустите свой gitlab runner в docker и напишите инструкцию по его запуску. В инструкции не нужно описывать каждый шаг, но в ней должны быть скрипты и связные материалы, которые позволят запустить раннер без каких либо проблем.

Требования к реализации:

- Сам ранер работает в докере
- Все таски, которые он обрабатывает запускаются в своих контейнерах

Советуем использовать: https://labs.play-with-docker.com

----

## №5. Написание gitlab cicd этап для запуска тестов.

> Выполнено: Да / Нет  
> Затраченное время: _____

Нужно написать этап, который будет запускать python тесты.

Команда для запуска тестов: `make tests`. 

Требования:

- Игнорировать ошибки при выполнения этапа

## №6. Написание gitlab cicd этап для сборки и публикации Docker image.

> Выполнено: Да / Нет  
> Затраченное время: _____

Нужно написать этап, которая будет собирать и публиковать docker image на основе `app/Dockerfile` модуль.

Требования:

- Образы должны загружаться в gitlab registry

----

## №7. Написание gitlab cicd этап для деплоя docker-stack.

> Выполнено: Да / Нет  
> Затраченное время: _____

После задачи #3 у вас есть заполненный файл `docker-service.yml`, который вы можете запускать в кластере docker swarm. Напишите cicd этап, который будет делать это в `кластере`, который вы предварительно создали.

Советуем использовать: https://labs.play-with-docker.com